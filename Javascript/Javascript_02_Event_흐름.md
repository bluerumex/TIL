### JavaScript 2. Event

자바스크립트와 HTML의 상호작용은 문서나 브라우저에서 특정 순간에 일어난 일을 가리키는 '이벤트'에 의해 처리된다. 이벤트는 '리스너'(핸들러라고 부르기도 함)<br>
이벤트는 '리스너'로 추적하며 리스너는 이벤트가 일어날 때만 실행된다. 이 모델을 옵저버 패턴이라고 부른다.<br>
브라우저 이벤트 시스템은 상당히 복잡하다. 주요 브라우저가 DOM레벨2 이벤트를 구현하긴 했지만 명세도 이벤트 타입을 전부 다루지는 못했다. DOM 이벤트 API가 DOM레벨 3로 확장 되면서 문제가 복잡해졌다.<br>
___
*이벤트 흐름의 이해<br>
페이지의 어느 부분이 특정 이벤트를 소유해야 될것인가?
종위 위에 동심원을 여러개 그린 모습을 상상해보자..<br>
정중앙을 짚으면 그 지점은 맨 안쪽에 있는 원의 중심이기도 하지만, 동시에 모든 원의 중심이기도 하다. 이를 바탕으로 브라우저 이벤트를 이해하면 된다. 버튼을 클륵하면 버튼의 컨테이너도 클릭하는 것이고 페이지 전체를 클릭하는 것과 같다.<br>
이벤트 흐름은 '<b>이벤트 버블링</b>'이라고 부르는데, 이벤트가 가장 명시적인 요소, 즉 이벤트 흐름상 문서 트리에서 가장 깊이 위치한 요소에서 시작해 거슬러 흘르는 모양이 거품이 올라가는 것과 같았기 때문.<br>
body안 div요소를 클릭 한다고 했을때..<br>
click 이벤트가 다음 순서대로 발생한다.<br>
```{.html}
1 <div> 요소
2 <body>
3 <html>
4 document
```

div요소에서 시작해 document객체를 만날때까지 DOM 트리를 거슬러 올라가면서 각 노드에서 모두 발생한다.<br>
'<b>이벤트 캡처링</b>'은 반대의 개념으로 이벤트가 의도한 요소에 도달하기 전에 잡아채려는 목적으로 디자인 되었음. 위쪽 div요소를 클릭했을 때 click 이벤트의 발생 순서는 4, 3, 2, 1 순서대로 발생한다.
이벤트 버블링을 주로 쓰고 캡처링은 특별한 상황에서만 쓰길 권장..<br>

DOM레벨 2 이벤트에서 정의한 이벤트 흐름에는 이벤트 캡처링 단계, 타깃 단계, 이벤트 버블링 단계
세 가지있다. 이벤트 캡처링이 처음 발생하므로 필요하다면 이 단계에서 이벤트를 가로챈다. 다음에는 실제 타깃이 이벤트를 받고, 미지막으로 이벤트 버블링이 발생하며 이벤트에 반응할 수 있는 마지막 기회이다.
___
*이벤트 핸들러<br>
이벤트란 사용자 또는 브라우저가 취하는 특정 동작이다. 이벤트에는 click, load, mouseover같은 이름이 있다. 이벤트에 응답하여 호출되는 함수를 '이벤트 핸들러'(이벤트 리스너)라고 한다.
이벤트 핸들러의 이름은 "on"으로 시작<br>
click 이벤트의 이벤트 핸들러는 onClick, load는 onLoad<br>

HTML 이벤트 핸들러
```{.html}
<input type="button" value="Click Me" onclick="alert('clicked')" />
```
onclick에 사용자가 정의한 함수를 연결할 수도 있다.<br>
`<script>`에 정의해도 되고, 외부 파일에 정의해도 된다.이벤트 핸들러로 실행되는 코드는 전역 스코프에서 실행된다.<br>
이런 방식으로 할당한 이벤트 핸들러에는 몇 가지 특징이 있다. 먼저 attribute값을 감싸는 함수가 생성되고 이 함수에는 event라는 특별한 로컬변수가 있고 이 변수는 이벤트 객체이다.
```{.html}
<input type="button" value="Click Me" onclick="alert('event.type')" />
```
```{.javascript}
defaultPrevented			
 - [불리언] true이면 preventDefault()가 호출된 상태
preventDefault()
 - [요소] 이벤트의 기본 행동을 취소
stopImmediatePropagation()			
 - [함수] 이벤트 캡처링이나 이벤트 버블링을 모두 취소하며  다른 이벤트 핸들러 호출을 막는다
stopPropagation()
 - [함수] 이벤트 캡처링이나 이벤트 버블링을 모두 취소
```