<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Design Patter</title>
</head>
<body>
<script>
    // -------------------- 7.1 싱글톤(Singleton) 패턴 -------------------- //

    // 특정 클래스의 인스턴스를 오직 하나만 유지한다
    // 자바스크립트에는 클래스는 없고 오직 객체만 있다
    // 새로운 객체를 만들면 실제로 이 객체는 다른 어떤 객체와 같지 않기 때문에 이미 싱글톤(Singleton)이다
    // 객체 리터럴로 마든 객체 또한 싱글톤의 예다

    var obj = {
        myprop: 'my value'
    };

    var obj2 = {
        myprop: 'my value'
    };

    console.log(obj === obj2); // false;
    console.log(obj == obj2); // flase;

    // -------------------- 7.1.1 스태틱 프로퍼티에 인스턴스 저장하기

    function Universe() {
        // 이미 instance가 존재하는가?
        if (typeof Universe.instance === "object") {
            return Universe.instance;
        }

        // 정상적으로 진행한다
        this.star_time = 0;
        this.bang = 'Big';

        // 인스턴스를 캐시한다
        Universe.instance = this;

        // 함축적인 반환:
        // returen this;
    }

    // 테스트
    var uni1 = new Universe();
    var uni2 = new Universe();

    console.log(uni === uni2); // true;

</script>
</body>
</html>