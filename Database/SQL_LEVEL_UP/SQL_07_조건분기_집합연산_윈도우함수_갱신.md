### SQL 조건분기, 집합 연산, 윈도우 함수, 갱신

>SQL을 작성하는 방법으로 조건분기, 집합 연산, 윈도우 함수를 살펴보고
>SQL에서 데이터를 갱신하는 방법을 알아본다

##### 
```SQL
// ----------------------------------- 1. SQL과 조건분기 ----------------------------------- //
// 일반적인 절차 지향형 프로그래밍 언어에서는 조건 분기를 사용하기 위한 수단으로 if 조건문과
// switch 조건문등이 있다.
// SQL은 조건 분기의 단위는 바로 식으로 CASE를 이용해서 분기를 한다.

// CASE 식의 구문
CASE WHEN [평가식] THEN [식]
     WHEN [평가식] THEN [식]
     WHEN [평가식] THEN [식]
     생략..
     ELSE [식]
END

// CASE 식의 작동
// 절차지향형 언어와 마찬가지로 switch 조건문의 첫번째 평가식부터 평가된다.
// CASE식의 강력한 점은 식이라는 것으로 식을 적을 수 있는 곳이라면 어디든지 적을 수 있다.
// SELECT, WHERE, GROUP BY, HAVING, ORDER BY구와 같은 곳 어디에나 적을 수 있으므로 다양하게 활용 가능

// ----------------------------------- 2. SQL 집합연산 ----------------------------------- //
// 두개의 서로 다른 테이블의 합집합을 구할 때는 UNION(합)이라는 연산자를 사용한다.

// 2.1 UNION 합집합
SELECT *
  FROM Address
UNION
SELECT *
  FROM Address2

// UNION은 중복된 레코드는 제거한다(모든 컬럼의 값들이 일치하는 행들만 제거)
// 만약 중복을 제외하고 싶지 않다면 'UNION ALL' 처럼 ALL 옵션을 붙이면 된다.

// 2.2 INTERSECT 교집합
SELECT *
  FROM Address
INTERSECT
SELECT *
  FROM Address2

// INTERSECT '교차'라는 의미 양쪽 테이블에 공통(모든컬럼이 일치해야 함)으로 존재하는 레코드 출력
// ALL 옵션(X)

// 2.3 EXPECT 차집합
SELECT *
  FROM Address
EXPECT
SELECT *
  FROM Address2


// ----------------------------------- 2. SQL 집합연산 ----------------------------------- //
윈도우 함수는 데이터를 가공하게 해준다는 점에서도 중요하지만, 성능의 관점에서도 큰 관계가 있다.
윈도우 함수의 특징을 한마디로 정의하면 '집약기능이 없는 GROUP BY구'라고 할 수 있다.
GROUP BY 구는 자르기야 집약이라는 두 개의 기능으로 구분되는데, 윈도우 함수는 여기서 자르기
기능만 있는 것이라 보면 된다.

윈도우 함수도 테이블을 자르는 것은 GRUOP BY와 같다. 윈도우 함수는 이를 'PARTITION BY'구로 수행한다.
차이점이 있다면 자른 후에 집약하지 않으므로 출력 결과의 레코드 수가 입력되는 테이블의 레코드 수와 같다.

윈도우 함수의 기본적인 구문은 집약 함수 뒤에 OVER 구를 작성하고. 내부에 자를 키를 지정하는 PARTITION BY 또는 ORDER BY를 입력한다.


```


